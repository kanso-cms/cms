/**
 * SimpleAjax
 *
 * @fileOverview
 *    Cross browser ajax object for creating ajax calls.
 *    Released under MIT license.
 * @version 1.0.1
 * @author Victor Villaverde Laan
 * @link http://www.freelancephp.net/simpleajax-small-ajax-javascript-object/
 * @link https://github.com/freelancephp/SimpleAjax
 */
!function(window){var SimpleAjax=window.SimpleAjax={xhr:null,settings:{url:"",type:"GET",dataType:"text",async:!0,cache:!0,data:null,contentType:"application/x-www-form-urlencoded",success:null,error:null,complete:null,accepts:{text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"}},call:function(t){var e=this,n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),a=function(t,e){var n={};for(var a in t)n[a]="undefined"==typeof e[a]?t[a]:e[a];return n}(this.settings,t),s=function(){if(4==n.readyState){if(n.status>=200&&n.status<300||304===n.status){var t="xml"==a.dataType?n.responseXML:n.responseText;"json"==a.dataType&&(t=e.parseJSON(t)),e.isFunction(a.success)&&a.success.call(a,t,n.status,n)}else e.isFunction(a.error)&&a.error.call(a,n,n.status);e.isFunction(a.complete)&&a.complete.call(a,n,n.status)}};return this.xhr=n,a.cache||(a.url+=(a.url.indexOf("?")>-1?"&":"?")+"_nocache="+(new Date).getTime()),a.data&&("GET"==a.type?(a.url+=(a.url.indexOf("?")>-1?"&":"?")+this.param(a.data),a.data=null):a.data=this.param(a.data)),n.open(a.type,a.url,a.async),n.setRequestHeader("Content-type",a.contentType),n.setRequestHeader("X_REQUESTED_WITH","XMLHttpRequest"),a.dataType&&a.accepts[a.dataType]&&n.setRequestHeader("Accept",a.accepts[a.dataType]),a.async?(n.onreadystatechange=s,n.send(a.data)):(n.send(a.data),s()),this},get:function(t,e,n,a){return this.isFunction(e)&&(n=e,e=null),this.call({url:t,type:"GET",data:e,success:n,error:a})},post:function(t,e,n,a){return this.isFunction(e)&&(n=e,e=null),this.call({url:t,type:"POST",data:e,success:n,error:a})},load:function(t,e,n,a){return"string"==typeof t&&(t=document.getElementById(t)),this.call({url:e,type:n?"POST":"GET",data:n||null,complete:a||null,success:function(e){try{t.innerHTML=e}catch(n){var a=document.createElement("div");for(a.innerHTML=e;t.firstChild;)t.removeChild(t.firstChild);for(var s=0,r=a.childNodes.length;r>s;s++)t.appendChild(a.childNodes[s])}}})},param:function(t){var e=[];for(var n in t)e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")},parseJSON:function(data){return"string"==typeof data&&data?eval("("+this.trim(data)+")"):null},trim:function(t){return t.replace(/^\s+/,"").replace(/\s+$/,"")},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)}};window.Ajax||(window.Ajax=SimpleAjax)}(window);
